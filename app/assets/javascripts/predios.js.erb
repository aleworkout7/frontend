/**
*	SELECT
*/
function redirectToShop(predio) {
	if (predio) {
		window.location.href = predio;
	}
}

$(".btn-edificios").unbind().click(function(e) {
	e.preventDefault();

	let path = $('.edificios').find("option[data-path]:selected").data("path");
	redirectToShop(path);
});

$('.edificios').unbind().change((event) => {
	let path = $(event.target).find("option[data-path]:selected").data("path");
	redirectToShop(path);
});

/**
*	SEARCH
*/
$(".search-predios").keyup(function() {
	let search = $(this).val();
	$.get("/search", { search }, (data) => {
		let $predios = $("#predios");
		$predios.html(data);
		$("#predios-amount").html($predios.children().size());
	});
});

$("#link-help").unbind().click((e) => {
	e.preventDefault();

	$("#link-help-box").fadeToggle();
});
